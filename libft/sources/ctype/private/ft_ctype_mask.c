/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_ctype_mask.c                                    :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: Zoellingam <illan91@hotmail.com>           +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2015/09/15 11:17:11 by Zoellingam        #+#    #+#             */
/*   Updated: 2017/11/25 13:29:46 by Zoellingam       ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "private/ft_ctype_private.h"
#include <limits.h>

/**
 * \brief   Pre-computed table
 * 
 *          Ex: 0x0018 : ISASCII | ISCNTRL
 *              0x0708 : ISASCII | ISGRAPH | ISPUNCT | ISPRINT
 */
static const int        g_ctype[1 << CHAR_BIT] =
{
    0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
    0x0018, 0x1818, 0x0818, 0x0818, 0x0818, 0x0818, 0x0018, 0x0018,
    0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
    0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
    0x1a08, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708,
    0x0708, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708,
    0x232c, 0x232c, 0x232c, 0x232c, 0x232c, 0x232c, 0x232c, 0x232c,
    0x232c, 0x232c, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708,
    0x0708, 0x238e, 0x238e, 0x238e, 0x238e, 0x238e, 0x238e, 0x038e,
    0x038e, 0x038e, 0x038e, 0x038e, 0x038e, 0x038e, 0x038e, 0x038e,
    0x038e, 0x038e, 0x038e, 0x038e, 0x038e, 0x038e, 0x038e, 0x038e,
    0x038e, 0x038e, 0x038e, 0x0708, 0x0708, 0x0708, 0x0708, 0x0708,
    0x0708, 0x234e, 0x234e, 0x234e, 0x234e, 0x234e, 0x234e, 0x034e,
    0x034e, 0x034e, 0x034e, 0x034e, 0x034e, 0x034e, 0x034e, 0x034e,
    0x034e, 0x034e, 0x034e, 0x034e, 0x034e, 0x034e, 0x034e, 0x034e,
    0x034e, 0x034e, 0x034e, 0x0708, 0x0708, 0x0708, 0x0708, 0x0018,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
    0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000
};

int    ft_ctype_mask(int c, int type)
{
    return (type == (g_ctype[c & ((1 << CHAR_BIT) - 1)] & type)); 
}
